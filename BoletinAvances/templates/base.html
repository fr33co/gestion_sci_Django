<!DOCTYPE html>
<html>
  <head>

    <!-- start: Meta -->
    <meta charset="UTF-8">
    <title>Gestión de boletines y avances</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- end: Meta -->

    <!-- start: CSS -->
    <!-- Bootstrap 3.3.2 -->
    <link href="../media/AdminLTE-2.0.4/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- FontAwesome 4.3.0 -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons 2.0.0 -->
    <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link href="../media/AdminLTE-2.0.4/dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link href="../media/AdminLTE-2.0.4/dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />
    <!-- iCheck -->
    <link href="../media/AdminLTE-2.0.4/plugins/iCheck/flat/blue.css" rel="stylesheet" type="text/css" />
    <!-- jvectormap -->
    <link href="../media/AdminLTE-2.0.4/plugins/jvectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" />
    <!-- Date Picker -->
    <link href="../media/AdminLTE-2.0.4/plugins/datepicker/datepicker3.css" rel="stylesheet" type="text/css" />
    <!-- Daterange picker -->
    <link href="../media/AdminLTE-2.0.4/plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" />
    <!-- bootstrap wysihtml5 - text editor -->
    <link href="../media/AdminLTE-2.0.4/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" rel="stylesheet" type="text/css" />
    <!-- DATA TABLES -->
    <link href="../media/AdminLTE-2.0.4/plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
    <!-- Date Picker -->
	<link href="../media/AdminLTE-2.0.4/plugins/datepicker/datepicker3.css" rel="stylesheet" type="text/css" />
	<!-- daterange picker -->
    <link href="../media/AdminLTE-2.0.4/plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap time Picker -->
	<link href="../media/AdminLTE-2.0.4/plugins/timepicker/bootstrap-timepicker.min.css" rel="stylesheet"/>
    <!-- Select & MultiSelect-->
	<link rel="stylesheet" href="../media/AdminLTE-2.0.4/plugins/bootstrap-multiselect/css/bootstrap-multiselect.css"/>
	<link rel="stylesheet" href="../media/AdminLTE-2.0.4/plugins/bootstrap-select/bootstrap-select.min.css"/>
    <!-- Dropzone -->
	<link rel="stylesheet" href="../media/AdminLTE-2.0.4/plugins/dropzone/css/dropzone.css"/>
    <!-- end: CSS -->

  </head>

  <body id="content" class="skin-blue">

    {% block content %}{% endblock content %}

    <!-- start: JavaScript-->
    <!-- jQuery 2.1.3 -->
    <script src="../media/AdminLTE-2.0.4/plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <!-- jQuery UI 1.11.2 -->
    <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.min.js" type="text/javascript"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
      $.widget.bridge('uibutton', $.ui.button);
    </script>
    <!-- Bootstrap 3.3.2 JS -->
    <script src="../media/AdminLTE-2.0.4/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- Sparkline -->
    <script src="../media/AdminLTE-2.0.4/plugins/sparkline/jquery.sparkline.min.js" type="text/javascript"></script>
    <!-- jvectormap -->
    <script src="../media/AdminLTE-2.0.4/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js" type="text/javascript"></script>
    <script src="../media/AdminLTE-2.0.4/plugins/jvectormap/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script>
    <!-- jQuery Knob Chart -->
    <script src="../media/AdminLTE-2.0.4/plugins/knob/jquery.knob.js" type="text/javascript"></script>
    <!-- daterangepicker -->
    <script src="../media/AdminLTE-2.0.4/plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <!-- datepicker -->
    <script src="../media/AdminLTE-2.0.4/plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script>
    <!-- Bootstrap WYSIHTML5 -->
    <script src="../media/AdminLTE-2.0.4/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js" type="text/javascript"></script>
    <!-- iCheck -->
    <script src="../media/AdminLTE-2.0.4/plugins/iCheck/icheck.min.js" type="text/javascript"></script>
    <!-- Slimscroll -->
    <script src="../media/AdminLTE-2.0.4/plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <!-- FastClick -->
    <script src='../media/AdminLTE-2.0.4/plugins/fastclick/fastclick.min.js'></script>
    <!-- AdminLTE App -->
    <script src="../media/AdminLTE-2.0.4/dist/js/app.min.js" type="text/javascript"></script>
    <!-- DATA TABLES SCRIPT -->
    <script src="../media/AdminLTE-2.0.4/plugins/datatables/jquery.dataTables.js" type="text/javascript"></script>
    <script src="../media/AdminLTE-2.0.4/plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>
    <!-- page script -->

    <script type="text/javascript">
      $(function () {
        $("#example1").dataTable({
                "oLanguage": {
                    "sUrl": "media/AdminLTE-2.0.4/plugins/datatables/Spanish.json"
                }
            });

		function getCookie(name) {
				  var cookieValue = null;
				  if (document.cookie && document.cookie != '') {
						var cookies = document.cookie.split(';');
				  for (var i = 0; i < cookies.length; i++) {
					   var cookie = jQuery.trim(cookies[i]);
				  // Does this cookie string begin with the name we want?
				  if (cookie.substring(0, name.length + 1) == (name + '=')) {
					cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
					  break;
					 }
				  }
			  }
		 return cookieValue;
		}
		var array = [];
        $('#example2 tbody').on( 'click', 'tr', function (e) {
            $(this).toggleClass('selected');

			e.preventDefault();
			var id = $(this).attr('value');
			var csrftoken = getCookie('csrftoken');
			array.push(id);
			console.log(id);
			console.log(array);
			$.ajax({
                type:"GET",
				contentType: 'application/json; charset=utf-8',
                //url:"/avances/Noticiasdetalle-" + id + "/",
				url:"/avances/Avancesenviar",
                data: {
                        csrfmiddlewaretoken : csrftoken,
						//'noticia': id, // from form
						'valores': array
                        },
				success : function(data) {
				  console.log(data); // another sanity check
				  //On success show the data posted to server as a message
				  //alert('Hi   '+id +'!.' + '  La noticia es:'+ id);

				},
				error : function(xhr,errmsg,err) {
				  console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
				}
            });
			return false;

          });
        });
    </script>

    <style>
      .selected {
        background-color: #AAB7D1;
      }
    </style>

    <!-- end: JavaScript-->
    <!-- datepicker -->
	<script src="../media/AdminLTE-2.0.4/plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script>
	<script src="../media/AdminLTE-2.0.4/plugins/datepicker/locales/bootstrap-datepicker.es.js" type="text/javascript"></script>
	<!-- date-range-picker -->
	<script src="../media/AdminLTE-2.0.4/plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <!-- bootstrap time picker -->
	<script src="../media/AdminLTE-2.0.4/plugins/timepicker/bootstrap-timepicker.min.js" type="text/javascript"></script>
    <!-- Page script -->

    <script type="text/javascript">
      $(function () {
        //Timepicker
        $(".timepicker").timepicker({
          minuteStep: 1,
          showInputs: false
        });

        $('.datepicker').datepicker({
          format: 'dd/mm/yyyy',
        });
      });
    </script>

    <!-- Select & MultiSelect -->
	<script src="../media/AdminLTE-2.0.4/plugins/bootstrap-multiselect/js/bootstrap-multiselect.js"></script>
	<script src="../media/AdminLTE-2.0.4/plugins/bootstrap-select/bootstrap-select.min.js"></script>
    <!-- Page script -->

    <script type="text/javascript">
      $(function () {
        $('#multiselectForm')
          .find('[name="listas"], [name="diarios"]')
              .multiselect({
                  onChange: function(element, checked, option, select) {
                      $('#multiselectForm');
                  },
                  includeSelectAllOption: true,
                  enableFiltering: true,
                  enableClickableOptGroups: true,
                  buttonWidth: '250px',
                  dropRight: true,
                  filterPlaceholder: 'Buscar',
                  nonSelectedText: 'Ninguna seleccionada',
                  nSelectedText: 'seleccionada',
                  allSelectedText: 'Todas seleccionadas',
                  selectAllText: ' Seleccionar todas',
              })
              .end()
      });
    </script>

    <!-- Dropzone -->
    <script src="../media/AdminLTE-2.0.4/plugins/dropzone/js/dropzone.js"></script>
    <script type="text/javascript">
      Dropzone.options.multiselectForm = {
          paramName: "documento", // el nombre de nuestro input
          autoProcessQueue : false,
          parallelUploads: 50,

          init: function() {

                var submitButton = document.querySelector("#submit-all")
                multiselectForm = this;

                submitButton.addEventListener("click", function() {
                    myDropzone.processQueue();
                    // Tell Dropzone to process all queued files.
                });

                // You might want to show the submit button only when
                // files are dropped here:
                this.on("addedfile", function() {
                    // Show submit button here and/or inform user to click it.
                });


              this.on("success", function(file, responseText) {
                  // evento lanzado al terminar de subir las imágenes en cola
                  console.log(responseText);
              });
          }
      };
    </script>

  </body>

</html>
